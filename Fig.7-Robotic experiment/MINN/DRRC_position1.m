function [x,y,z,T]=DRRC_position1(pen_long,q)
    %VERSION of April 16th, 2001
    mys=sin(q);
    s1=mys(1);s2=mys(2);s3=mys(3);s4=mys(4);s5=mys(5);s6=mys(6);
    myc=cos(q);
    c1=myc(1);c2=myc(2);c3=myc(3);c4=myc(4);c5=myc(5);c6=myc(6);
    
 %%%改变机械臂的底座位置
  AW1=[1,0,0,0;
     0,1,0,0;
     0,0,1,0;
     0,0,0,1];
 
%     
% A1 = [c1, -s1, 0, 0;...
%     s1, c1, 0, 0;...
%     0, 0, 1, 0.1283;...
%     0, 0, 0, 1];
% T=AW1*A1;
% x=[T(1,4)];
% y=[T(2,4)];
% z=[T(3,4)];
% A2 = [c2, -s2, 0, 0;...
%     0, 0, -1, -0.03;...
%     s2, c2, 0, 0.115;...
%     0, 0, 0, 1];
% T=T*A2;
% x=[x;T(1,4)];
% y=[y;T(2,4)];
% z=[z;T(3,4)];
% A3 = [c3, -s3, 0, 0;...
%     -s3, -c3, 0, 0.28;...
%     0, 0, -1, 0;...
%     0, 0, 0, 1];
% T=T*A3;
% x=[x;T(1,4)];
% y=[y;T(2,4)];
% z=[z;T(3,4)];
%  A4 = [c4, -s4, 0, 0;...
%     0, 0, -1, -0.14;...
%     s4, c4, 0, 0.02;...
%     0, 0, 0, 1];
% T=T*A4;
% x=[x;T(1,4)];
% y=[y;T(2,4)];
% z=[z;T(3,4)];
% A5 = [0, 0, 1, 0.0285;...
%     s5, c5, 0, 0;...
%     -c5, s5, 0, 0.1050;...
%     0, 0, 0, 1];
% T=T*A5;
% x=[x;T(1,4)];
% y=[y;T(2,4)];
% z=[z;T(3,4)];
% A6 = [0, 0, -1, -0.1050;...
%     s6, c6, 0, 0;...
%     c6, -s6, 0, 0.0285;...
%     0, 0, 0, 1];
% T=T*A6;
% x=[x;T(1,4)];
% y=[y;T(2,4)];
% z=[z;T(3,4)];
% 
% endf=[0;pen_long;0;1];
% T=T*endf;
% x=[x;T(1,4)];
% y=[y;T(2,4)];
% z=[z;T(3,4)];

endf=[0;pen_long;0;1];

    alpha_1=-pi/2;
    alpha_2=0;
    alpha_3=-pi/2;
    alpha_4=pi/2;
    alpha_5=-pi/2;
    alpha_6=0;
    a_1=0;
    a_2=sqrt(0.2845^2+0.0535^2);
    a_3=0.0775;
    a_4=0;
    a_5=0.076;
    a_6=0;
    d_1=0.267;
    d_2=0;
    d_3=0;
    d_4=0.3425;
    d_5=0;
    d_6=0.097; 

   %	xArm6旋转矩阵
    A1=[c1,0,-s1,0;...
		s1,0,c1,0;...
		0,-1,0,d_1;...
		0,0,0,1];

	A2=[c2,-s2,0,a_2*c2;...
		s2,c2,0,a_2*s2;...
		0,0,1,0;...
		0,0,0,1];

	A3=[c3,0,-s3,c3*a_3;...
		s3,0,c3,s3*a_3;...
		0,-1,0,d_3;...
		0,0,0,1];

	A4=[c4,0,s4,0;...
		s4,0,-c4,0;...
		0,1,0,d_4;...
		0,0,0,1];

	A5=[c5,0,-s5,a_5*c5;...
		s5,0,c5,a_5*s5;...
		0,-1,0,0;...
		0,0,0,1];

	A6=[c6,-s6,0,0;...
		s6,c6,0,0;...
		0,0,1,d_6;...
		0,0,0,1];

%     Peeff=AW1*A1*A2*A3*A4*A5*A6*Jein6;
%     j6p=AW1*A1*A2*A3*A4*A5*J6in5;
%     j5p=AW1*A1*A2*A3*A4*J5in4;
%     j4p=AW1*A1*A2*A3*J4in3;
%     j3p=AW1*A1*A2*J3in2;
%     j2p=AW1*A1*J2in1;
%     j1p=AW1*J1inc;
    
    Peeff=AW1*A1*A2*A3*A4*A5*A6*endf;
    j6p=AW1*A1*A2*A3*A4*A5*A6;
    j5p=AW1*A1*A2*A3*A4*A5;
    j4p=AW1*A1*A2*A3*A4;
    j3p=AW1*A1*A2*A3;
    j2p=AW1*A1*A2;
    j1p=AW1*A1;
    j0p=AW1;
    
    x0=j0p(1,4);
    x1=j1p(1,4);
    x2=j2p(1,4);
    x3=j3p(1,4);
    x4=j4p(1,4);
    x5=j5p(1,4);
    x6=j6p(1,4);
    x7=Peeff(1);
    y0=j0p(2,4);
    y1=j1p(2,4);
    y2=j2p(2,4);
    y3=j3p(2,4);
    y4=j4p(2,4);
    y5=j5p(2,4);
    y6=j6p(2,4);
    y7=Peeff(2);
    z0=j0p(3,4);
    z1=j1p(3,4);
    z2=j2p(3,4);
    z3=j3p(3,4);
    z4=j4p(3,4);
    z5=j5p(3,4);
    z6=j6p(3,4);
    z7=Peeff(3);
    
     x=[x0;x1;x2;x3;x4;x5;x6;x7];
     y=[y0;y1;y2;y3;y4;y5;y6;y7];
     z=[z0;z1;z2;z3;z4;z5;z6;z7];
T=AW1*A1*A2*A3*A4*A5*A6;